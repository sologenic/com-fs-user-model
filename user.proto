syntax = "proto3";

package user;

option go_package = "github.com/sologenic/com-fs-user-model;user";

import "sologenic/com-fs-utils-lib/models/metadata/metadata.proto";
import "sologenic/com-fs-utils-lib/models/audit/audit.proto";
import "sologenic/com-fs-utils-lib/models/role/role.proto";
import "sologenic/com-fs-utils-lib/models/language/language.proto";
import "sologenic/com-fs-trade-profile-model/tradeprofile.proto";
import "sologenic/com-fs-document-model/document.proto";
import "user-kyc.proto";
import "user-compliance.proto";
import "user-fundings.proto";

message UserDetails {
    string UserID = 1; // email address used for firebase authentication
    string FirstName = 2; 
    string LastName = 3;
    string Address = 4;
    string Avatar = 5;
    string Alias = 6; // "Nickname"
    string Description = 7;
    UserStatus Status = 8;
    repeated Wallet Wallets = 9;
    repeated Social Socials = 10;
    language.Lang Language = 11;
    string ExternalUserID = 12; // UUID for the external user identifier for example to be used in communication with the KYC provider, or other places where an anonymous ID is required
    string OrganizationID = 13; // UUID of the current organization the user is cloned into
    optional Employment Employment = 14;
    role.Role Role = 15; // A retail user will always have a role of "NORMAL_USER"
    tradeprofile.TradeProfileDetails TradeProfile = 16; // Trade profile details
    repeated string KYCInquiries = 17; // Array of KYC integration IDs
    UserKYCDetails KYCDetails = 18;
    document.UserDocumentCompliance UserDocumentCompliance = 19;
    KYCStatus KYCStatus = 20; // Status of KYC verification, e.g., PENDING, APPROVED, REJECTED
    tradeprofile.UserTradeProfile UserTradeProfile = 21;
    repeated ComplianceQuestions ComplianceQuestions = 22;
    repeated BrokerAccount BrokerAccounts = 23;
    repeated BankAccount BankAccounts = 24;
    UISettings UISettings = 25;
}

message User {
    UserDetails User = 1;
    metadata.MetaData MetaData = 2;
    audit.Audit Audit = 3;
    repeated string OrganizationIDs = 4; // List of organizations where the user is part of (cloned into)
} 

message Social {
    string URL = 1;
    SocialType Type = 2;
}

message UserList {
    repeated User Users = 1;
    optional int32 Offset = 2;
}

message StatusMessage {
    string UserID = 1;
    string OrganizationID = 2;
    UserStatus Status = 3;
    optional metadata.Network Network = 4;
    audit.Audit Audit = 5;
}

enum UserStatus {
    NOT_USED_USERSTATUS = 0;
    ACTIVE = 1;
    ADMIN_DEACTIVATED = 2; 
}

enum SocialType {
    NOT_USED_SOCIALTYPE = 0;
    WEBSITE = 1;
    GITHUB = 2;
    REDDIT = 3;
    DISCORD = 4;
    TWITTER = 5;
    FACEBOOK = 6;
    TELEGRAM = 7;
    INSTAGRAM = 8;
    LINKEDIN = 9;
}

message UISettings {
    Theme Theme = 1;
}

enum Theme {
    NOT_USED_THEME = 0;
    DARK = 1;
    LIGHT = 2;
}
